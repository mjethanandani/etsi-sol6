<config xmlns="http://tail-f.com/ns/config/1.0">
  <nfv xmlns="urn:etsi:params:xml:ns:yang:etsi-nfv">
    <vnfd>
      <id>complex-vnf</id>
      <provider>ACME</provider>
      <product-name>complex-vnf</product-name>
      <software-version>1.0</software-version>
      <version>1.0</version>
      <vnfm-info>netconf</vnfm-info>
      <vdu>
        <id>control-plane-active</id>
        <name>control-plane-active</name>
        <int-cpd>
          <id>internal</id>
          <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <int-cpd>
          <id>mgmt</id>
          <int-virtual-link-desc>mgmt</int-virtual-link-desc>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <virtual-compute-desc>CP</virtual-compute-desc>
        <virtual-storage-desc>root</virtual-storage-desc>
        <sw-image-desc>CP</sw-image-desc>
      </vdu>
      <vdu>
        <id>control-plane-standby</id>
        <name>control-plane-standby</name>
        <int-cpd>
          <id>internal</id>
          <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <int-cpd>
          <id>mgmt</id>
          <int-virtual-link-desc>mgmt</int-virtual-link-desc>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <virtual-compute-desc>CP</virtual-compute-desc>
        <virtual-storage-desc>root</virtual-storage-desc>
        <sw-image-desc>CP</sw-image-desc>
      </vdu>
      <vdu>
        <id>data-plane</id>
        <name>data-plane</name>
        <int-cpd>
          <id>in</id>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <int-cpd>
          <id>internal</id>
          <int-virtual-link-desc>internal-vl</int-virtual-link-desc>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <int-cpd>
          <id>out</id>
          <layer-protocol>IPv4</layer-protocol>
        </int-cpd>
        <virtual-compute-desc>DP</virtual-compute-desc>
        <virtual-storage-desc>root</virtual-storage-desc>
        <sw-image-desc>DP</sw-image-desc>
      </vdu>
      <virtual-compute-desc>
        <id>CP</id>
        <virtual-memory>
          <size>16.0</size>
        </virtual-memory>
        <virtual-cpu>
          <num-virtual-cpu>8</num-virtual-cpu>
        </virtual-cpu>
      </virtual-compute-desc>
      <virtual-compute-desc>
        <id>DP</id>
        <virtual-memory>
          <size>32.0</size>
        </virtual-memory>
        <virtual-cpu>
          <num-virtual-cpu>16</num-virtual-cpu>
        </virtual-cpu>
      </virtual-compute-desc>
      <virtual-storage-desc>
        <id>root</id>
        <type-of-storage>root</type-of-storage>
        <size-of-storage>10</size-of-storage>
      </virtual-storage-desc>
      <sw-image-desc>
        <id>CP</id>
        <name>CP</name>
        <container-format>bare</container-format>
        <disk-format>qcow2</disk-format>
        <image>http://acme.images.com/control-plane.qcow2</image>
      </sw-image-desc>
      <sw-image-desc>
        <id>DP</id>
        <name>DP</name>
        <container-format>bare</container-format>
        <disk-format>qcow2</disk-format>
        <image>http://acme.images.com/data-plane.qcow2</image>
      </sw-image-desc>
      <int-virtual-link-desc>
        <id>internal-vl</id>
        <connectivity-type>
          <layer-protocol>IPv4</layer-protocol>
        </connectivity-type>
      </int-virtual-link-desc>
      <int-virtual-link-desc>
        <id>mgmt</id>
        <connectivity-type>
          <layer-protocol>IPv4</layer-protocol>
        </connectivity-type>
      </int-virtual-link-desc>
      <ext-cpd>
        <id>in</id>
        <int-cpd>
          <vdu>data-plane</vdu>
          <cpd>in</cpd>
        </int-cpd>
        <layer-protocol>IPv4</layer-protocol>
      </ext-cpd>
      <ext-cpd>
        <id>mgmt</id>
        <int-virtual-link-desc>mgmt</int-virtual-link-desc>
        <layer-protocol>IPv4</layer-protocol>
      </ext-cpd>
      <ext-cpd>
        <id>out</id>
        <int-cpd>
          <vdu>data-plane</vdu>
          <cpd>out</cpd>
        </int-cpd>
        <layer-protocol>IPv4</layer-protocol>
      </ext-cpd>
      <df>
        <id>gold</id>
        <vdu-profile>
          <id>control-plane-active</id>
          <min-number-of-instances>1</min-number-of-instances>
          <max-number-of-instances>1</max-number-of-instances>
          <affinity-or-anti-affinity-group>
            <id>control-plane</id>
          </affinity-or-anti-affinity-group>
        </vdu-profile>
        <vdu-profile>
          <id>control-plane-standby</id>
          <min-number-of-instances>1</min-number-of-instances>
          <max-number-of-instances>1</max-number-of-instances>
          <affinity-or-anti-affinity-group>
            <id>control-plane</id>
          </affinity-or-anti-affinity-group>
        </vdu-profile>
        <vdu-profile>
          <id>data-plane</id>
          <min-number-of-instances>2</min-number-of-instances>
          <max-number-of-instances>8</max-number-of-instances>
        </vdu-profile>
        <instantiation-level>
          <id>il-1</id>
          <vdu-level>
            <id>control-plane-active</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>control-plane-standby</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>data-plane</id>
            <number-of-instances>2</number-of-instances>
          </vdu-level>
        </instantiation-level>
        <instantiation-level>
          <id>il-2</id>
          <vdu-level>
            <id>control-plane-active</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>control-plane-standby</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>data-plane</id>
            <number-of-instances>4</number-of-instances>
          </vdu-level>
        </instantiation-level>
        <default-instantiation-level>il-1</default-instantiation-level>
        <affinity-or-anti-affinity-group>
          <id>control-plane</id>
          <type>anti-affinity</type>
          <scope>nfvi-node</scope>
        </affinity-or-anti-affinity-group>
      </df>
      <df>
        <id>silver</id>
        <vdu-profile>
          <id>control-plane-active</id>
          <min-number-of-instances>1</min-number-of-instances>
          <max-number-of-instances>1</max-number-of-instances>
          <affinity-or-anti-affinity-group>
            <id>control-plane</id>
          </affinity-or-anti-affinity-group>
        </vdu-profile>
        <vdu-profile>
          <id>control-plane-standby</id>
          <min-number-of-instances>1</min-number-of-instances>
          <max-number-of-instances>1</max-number-of-instances>
          <affinity-or-anti-affinity-group>
            <id>control-plane</id>
          </affinity-or-anti-affinity-group>
        </vdu-profile>
        <vdu-profile>
          <id>data-plane</id>
          <min-number-of-instances>1</min-number-of-instances>
          <max-number-of-instances>4</max-number-of-instances>
        </vdu-profile>
        <instantiation-level>
          <id>il-1</id>
          <vdu-level>
            <id>control-plane-active</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>control-plane-standby</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>data-plane</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
        </instantiation-level>
        <instantiation-level>
          <id>il-2</id>
          <vdu-level>
            <id>control-plane-active</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>control-plane-standby</id>
            <number-of-instances>1</number-of-instances>
          </vdu-level>
          <vdu-level>
            <id>data-plane</id>
            <number-of-instances>2</number-of-instances>
          </vdu-level>
        </instantiation-level>
        <default-instantiation-level>il-1</default-instantiation-level>
        <affinity-or-anti-affinity-group>
          <id>control-plane</id>
          <type>anti-affinity</type>
          <scope>nfvi-node</scope>
        </affinity-or-anti-affinity-group>
      </df>
    </vnfd>
  </nfv>
</config>
